/* ========================================================================
 * Bootstrap: transition.js v3.3.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
function activate_widgets(){navigator.userAgent.match(/(iPod|iPad|iPhone|Android)/)||$("select:not(.notselect)").select2({allowClear:!0});var t={mode:"gfm",lineNumbers:!1,theme:"default",lineWrapping:!0,autoCloseBrackets:!0,viewportMargin:1/0,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:!1,"Shift-Tab":!1,Home:"goLineLeft",End:"goLineRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight"}},e={mode:"css",lineNumbers:!1,theme:"default",lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,viewportMargin:1/0,extraKeys:{Tab:!1,"Shift-Tab":!1,Home:"goLineLeft",End:"goLineRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight"}};$("textarea.markdown").each(function(){var e,i=CodeMirror.fromTextArea(this,t);i.on("change",function(){clearTimeout(e),e=setTimeout(function(){i.save()},300)})}),$("textarea.stylesheet").each(function(){var t,i=CodeMirror.fromTextArea(this,e);i.on("change",function(){clearTimeout(t),t=setTimeout(function(){i.save()},300)})}),$("input.datetime-time").timepicker({scrollDefaultNow:!0,timeFormat:"H:i"})}function radioHighlight(t,e){var i="input[name='"+t+"']";$(i+":checked").parent().addClass(e);var s=function(){$(i).parent().removeClass(e),$(i+":checked").parent().addClass(e)};$(i).change(s),$(i).click(s)}function activate_geoname_autocomplete(t,e,i){$(t).select2({placeholder:"Search for a location",multiple:!0,minimumInputLength:2,ajax:{url:e,dataType:"jsonp",data:function(t){return{q:t}},results:function(t){var e=[];if(t.status=="ok")for(var i=0;t.result.length>i;i++)e.push({id:t.result[i].geonameid,text:t.result[i].picker_title});return{more:!1,results:e}}},initSelection:function(t,e){var s=$(t).val();if(s!==""){var n="?name="+s.replace(/,/g,"&name=");$.ajax(i+n,{accepts:"application/json",dataType:"jsonp"}).done(function(i){$(t).val("");var s=[];if(i.status=="ok")for(var n=0;i.result.length>n;n++)s.push({id:i.result[n].geonameid,text:i.result[n].picker_title});e(s)})}}})}+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(t.style[i]!==void 0)return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,s=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(s).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new s(this)),typeof e=="string"&&n[e].call(i)})}var i='[data-dismiss="alert"]',s=function(e){t(e).on("click",i,this.close)};s.VERSION="3.3.1",s.TRANSITION_DURATION=150,s.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=t(o);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(s.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=s,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,s.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.button"),o=typeof e=="object"&&e;n||s.data("bs.button",n=new i(this,o)),e=="toggle"?n.toggle():e&&n.setState(e)})}var i=function(e,s){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,s),this.isLoading=!1};i.VERSION="3.3.1",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",s=this.$element,n=s.is("input")?"val":"html",o=s.data();e+="Text",o.resetText==null&&s.data("resetText",s[n]()),setTimeout(t.proxy(function(){s[n](o[e]==null?this.options[e]:o[e]),e=="loadingText"?(this.isLoading=!0,s.addClass(i).attr(i,i)):this.isLoading&&(this.isLoading=!1,s.removeClass(i).removeAttr(i))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");i.prop("type")=="radio"&&(i.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var s=t(i.target);s.hasClass("btn")||(s=s.closest(".btn")),e.call(s,"toggle"),i.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.carousel"),o=t.extend({},i.DEFAULTS,s.data(),typeof e=="object"&&e),a=typeof e=="string"?e:o.slide;n||s.data("bs.carousel",n=new i(this,o)),typeof e=="number"?n.to(e):a?n[a]():o.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.1",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=t=="prev"?-1:1,s=this.getItemIndex(e),n=(s+i)%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,s){var n=this.$element.find(".item.active"),o=s||this.getItemForDirection(e,n),a=this.interval,r=e=="next"?"left":"right",l=e=="next"?"first":"last",c=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[l]()}if(o.hasClass("active"))return this.sliding=!1;var h=o[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(o)]);u&&u.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(o.addClass(e),o[0].offsetWidth,n.addClass(r),o.addClass(r),n.one("bsTransitionEnd",function(){o.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var n=function(i){var s,n=t(this),o=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(o,a),r&&o.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,s=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),o=t.extend({},s.DEFAULTS,i.data(),typeof e=="object"&&e);!n&&o.toggle&&e=="show"&&(o.toggle=!1),n||i.data("bs.collapse",n=new s(this,o)),typeof e=="string"&&n[e]()})}var s=function(e,i){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,i),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.1",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},s.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[a](this.$element[0][l])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?(this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(s.TRANSITION_DURATION),void 0):n.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,s){var n=t(s);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var n=t(this);n.attr("data-target")||s.preventDefault();var o=e(n),a=o.data("bs.collapse"),r=a?"toggle":t.extend({},n.data(),{trigger:this});i.call(o,r)})}(jQuery),+function(t){"use strict";function e(e){e&&e.which===3||(t(n).remove(),t(o).each(function(){var s=t(this),n=i(s),o={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",o)),e.isDefaultPrevented()||(s.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var s=i&&t(i);return s&&s.length?s:e.parent()}function s(e){return this.each(function(){var i=t(this),s=i.data("bs.dropdown");s||i.data("bs.dropdown",s=new a(this)),typeof e=="string"&&s[e].call(i)})}var n=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.1",a.prototype.toggle=function(s){var n=t(this);if(!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var r={relatedTarget:this};if(o.trigger(s=t.Event("show.bs.dropdown",r)),s.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",r)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var s=t(this);if(e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled")){var n=i(s),a=n.hasClass("open");if(!a&&e.which!=27||a&&e.which==27)return e.which==27&&n.find(o).trigger("focus"),s.trigger("click");var r=" li:not(.divider):visible a",l=n.find('[role="menu"]'+r+', [role="listbox"]'+r);if(l.length){var c=l.index(e.target);e.which==38&&c>0&&c--,e.which==40&&l.length-1>c&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=s,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,s){return this.each(function(){var n=t(this),o=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),typeof e=="object"&&e);o||n.data("bs.modal",o=new i(this,a)),typeof e=="string"?o[e](s):a.show&&o.show(s)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.1",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var s=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&s.$element.hasClass("fade");s.$element.parent().length||s.$element.appendTo(s.$body),s.$element.show().scrollTop(0),s.options.backdrop&&s.adjustBackdrop(),s.adjustDialog(),n&&s.$element[0].offsetWidth,s.$element.addClass("in").attr("aria-hidden",!1),s.enforceFocus();var o=t.Event("shown.bs.modal",{relatedTarget:e});n?s.$element.find(".modal-dialog").one("bsTransitionEnd",function(){s.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(i.TRANSITION_DURATION):s.$element.trigger("focus").trigger(o)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){t.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var s=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;o?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){s.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},i.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var s=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=s,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var s=t(this),n=s.attr("href"),o=t(s.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},o.data(),s.data());s.is("a")&&i.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){s.is(":visible")&&s.trigger("focus")})}),e.call(o,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.tooltip"),o=typeof e=="object"&&e,a=o&&o.selector;(n||e!="destroy")&&(a?(n||s.data("bs.tooltip",n={}),n[a]||(n[a]=new i(this,o))):n||s.data("bs.tooltip",n=new i(this,o)),typeof e=="string"&&n[e]())})}var i=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};i.VERSION="3.3.1",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,s){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var n=this.options.trigger.split(" "),o=n.length;o--;){var a=n[o];if(a=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(a!="manual"){var r=a=="hover"?"mouseenter":"focusin",l=a=="hover"?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,s){i[t]!=s&&(e[t]=s)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i&&i.$tip&&i.$tip.is(":visible")?(i.hoverState="in",void 0):(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?(i.timeout=setTimeout(function(){i.hoverState=="in"&&i.show()},i.options.delay.show),void 0):i.show())},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?(i.timeout=setTimeout(function(){i.hoverState=="out"&&i.hide()},i.options.delay.hide),void 0):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var s=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!s)return;var n=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var r=typeof this.options.placement=="function"?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(r);c&&(r=r.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var h=this.getPosition(),d=o[0].offsetWidth,u=o[0].offsetHeight;if(c){var p=r,f=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(f);r=r=="bottom"&&h.bottom+u>m.bottom?"top":r=="top"&&m.top>h.top-u?"bottom":r=="right"&&h.right+d>m.width?"left":r=="left"&&m.left>h.left-d?"right":r,o.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,h,d,u);this.applyPlacement(g,r);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,t=="out"&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var s=this.tip(),n=s[0].offsetWidth,o=s[0].offsetHeight,a=parseInt(s.css("margin-top"),10),r=parseInt(s.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top=e.top+a,e.left=e.left+r,t.offset.setOffset(s[0],t.extend({using:function(t){s.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),s.addClass("in");var l=s[0].offsetWidth,c=s[0].offsetHeight;i=="top"&&c!=o&&(e.top=e.top+o-c);var h=this.getViewportAdjustedDelta(i,e,l,c);h.left?e.left+=h.left:e.top+=h.top;var d=/top|bottom/.test(i),u=d?h.left*2-n+l:h.top*2-o+c,p=d?"offsetWidth":"offsetHeight";s.offset(e),this.replaceArrow(u,s[0][p],d)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function s(){n.hoverState!="in"&&o.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,o=this.tip(),a=t.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],s=i.tagName=="BODY",n=i.getBoundingClientRect();n.width==null&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var o=s?{top:0,left:0}:e.offset(),a={scroll:s?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},r=s?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,a,r,o)},i.prototype.getCalculatedOffset=function(t,e,i,s){return t=="bottom"?{top:e.top+e.height,left:e.left+e.width/2-i/2}:t=="top"?{top:e.top-s,left:e.left+e.width/2-i/2}:t=="left"?{top:e.top+e.height/2-s/2,left:e.left-i}:{top:e.top+e.height/2-s/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,s){var n={top:0,left:0};if(!this.$viewport)return n;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-o-a.scroll,l=e.top+o-a.scroll+s;a.top>r?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var c=e.left-o,h=e.left+o+i;a.left>c?n.left=a.left-c:h>a.width&&(n.left=a.left+a.width-h)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||(typeof i.title=="function"?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(Math.random()*1e6);while(document.getElementById(t));return t},i.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var s=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=s,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.popover"),o=typeof e=="object"&&e,a=o&&o.selector;(n||e!="destroy")&&(a?(n||s.data("bs.popover",n={}),n[a]||(n[a]=new i(this,o))):n||s.data("bs.popover",n=new i(this,o)),typeof e=="string"&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");i.VERSION="3.3.1",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?typeof i=="string"?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||(typeof e.content=="function"?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},i.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var s=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=s,this}}(jQuery),+function(t){"use strict";function e(i,s){var n=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(i).is("body")?t(window):t(i),this.options=t.extend({},e.DEFAULTS,s),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function i(i){return this.each(function(){var s=t(this),n=s.data("bs.scrollspy"),o=typeof i=="object"&&i;n||s.data("bs.scrollspy",n=new e(this,o)),typeof i=="string"&&n[i]()})}e.VERSION="3.3.1",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",i=0;t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var s=this;this.$body.find(this.selector).map(function(){var s=t(this),n=s.data("target")||s.attr("href"),o=/^#./.test(n)&&t(n);return o&&o.length&&o.is(":visible")&&[[o[e]().top+i,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),s=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=s)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&n[0]>e)return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=o[t]&&e>=n[t]&&(!n[t+1]||n[t+1]>=e)&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',s=t(i).parents("li").addClass("active");s.parent(".dropdown-menu").length&&(s=s.closest("li.dropdown").addClass("active")),s.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var s=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=s,this
},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.tab");n||s.data("bs.tab",n=new i(this)),typeof e=="string"&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.1",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),s=e.data("target");if(s||(s=e.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),o=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(o),e.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var r=t(s);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,s,n){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=s.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!s.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),a.removeClass("in")};var s=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=s,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.affix"),o=typeof e=="object"&&e;n||s.data("bs.affix",n=new i(this,o)),typeof e=="string"&&n[e]()})}var i=function(e,s){this.options=t.extend({},i.DEFAULTS,s),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.1",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,s){var n=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(i!=null&&this.affixed=="top")return i>n?"top":!1;if(this.affixed=="bottom")return i!=null?o.top>=n+this.unpin?!1:"bottom":t-s>=n+a?!1:"bottom";var r=this.affixed==null,l=r?n:o.top,c=r?a:e;return i!=null&&i>=l?"top":s!=null&&l+c>=t-s?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),s=this.options.offset,n=s.top,o=s.bottom,a=t("body").height();typeof s!="object"&&(o=n=s),typeof n=="function"&&(n=s.top(this.$element)),typeof o=="function"&&(o=s.bottom(this.$element));var r=this.getState(a,e,n,o);if(this.affixed!=r){this.unpin!=null&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=r,this.unpin=r=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}r=="bottom"&&this.$element.offset({top:a-e-o})}};var s=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=s,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),s=i.data();s.offset=s.offset||{},s.offsetBottom!=null&&(s.offset.bottom=s.offsetBottom),s.offsetTop!=null&&(s.offset.top=s.offsetTop),e.call(i,s)})})}(jQuery),function(t){function e(e){var i=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(i))}function i(e){var i=e.target,s=t(i);if(!s.is(":submit,input:image")){var n=s.closest(":submit");if(n.length==0)return;i=n[0]}var o=this;if(o.clk=i,i.type=="image")if(e.offsetX!=void 0)o.clk_x=e.offsetX,o.clk_y=e.offsetY;else if(typeof t.fn.offset=="function"){var a=s.offset();o.clk_x=e.pageX-a.left,o.clk_y=e.pageY-a.top}else o.clk_x=e.pageX-i.offsetLeft,o.clk_y=e.pageY-i.offsetTop;setTimeout(function(){o.clk=o.clk_x=o.clk_y=null},100)}function s(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.ajaxSubmit=function(e){function i(i){for(var s=new FormData,n=0;i.length>n;n++)i[n].type!="file"&&s.append(i[n].name,i[n].value);if(l.find("input:file:enabled").each(function(){var e=t(this).attr("name"),i=this.files;if(e)for(var n=0;i.length>n;n++)s.append(e,i[n])}),e.extraData)for(var o in e.extraData)s.append(o,e.extraData[o]);e.data=null;var a=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:"POST"});a.data=null;var r=a.beforeSend;a.beforeSend=function(t,i){i.data=s,t.upload&&(t.upload.onprogress=function(t){i.progress(t.position,t.total)}),r&&r.call(i,t,e)},t.ajax(a)}function n(i){function n(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function a(){function e(){try{var t=n(m).readyState;s("state = "+t),t.toLowerCase()=="uninitialized"&&setTimeout(e,50)}catch(i){s("Server abort: ",i," (",i.name,")"),r(k),w&&clearTimeout(w),w=void 0}}var i=l.attr("target"),a=l.attr("action");T.setAttribute("target",p),o||T.setAttribute("method","POST"),a!=d.url&&T.setAttribute("action",d.url),d.skipEncodingOverride||o&&!/post/i.test(o)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),d.timeout&&(w=setTimeout(function(){y=!0,r(C)},d.timeout));var c=[];try{if(d.extraData)for(var h in d.extraData)c.push(t('<input type="hidden" name="'+h+'">').attr("value",d.extraData[h]).appendTo(T)[0]);d.iframeTarget||(f.appendTo("body"),m.attachEvent?m.attachEvent("onload",r):m.addEventListener("load",r,!1)),setTimeout(e,15),T.submit()}finally{T.setAttribute("action",a),i?T.setAttribute("target",i):l.removeAttr("target"),t(c).remove()}}function r(e){if(!g.aborted&&!O){try{D=n(m)}catch(i){s("cannot access response document: ",i),e=k}if(e===C&&g)return g.abort("timeout"),void 0;if(e==k&&g)return g.abort("server abort"),void 0;if(D&&D.location.href!=d.iframeSrc||y){m.detachEvent?m.detachEvent("onload",r):m.removeEventListener("load",r,!1);var o,a="success";try{if(y)throw"timeout";var l=d.dataType=="xml"||D.XMLDocument||t.isXMLDoc(D);if(s("isXml="+l),!l&&window.opera&&(D.body==null||D.body.innerHTML=="")&&--A)return s("requeing onLoad callback, DOM not available"),setTimeout(r,250),void 0;var c=D.body?D.body:D.documentElement;g.responseText=c?c.innerHTML:null,g.responseXML=D.XMLDocument?D.XMLDocument:D,l&&(d.dataType="xml"),g.getResponseHeader=function(t){var e={"content-type":d.dataType};return e[t]},c&&(g.status=Number(c.getAttribute("status"))||g.status,g.statusText=c.getAttribute("statusText")||g.statusText);var h=(d.dataType||"").toLowerCase(),p=/(json|script|text)/.test(h);if(p||d.textarea){var v=D.getElementsByTagName("textarea")[0];if(v)g.responseText=v.value,g.status=Number(v.getAttribute("status"))||g.status,g.statusText=v.getAttribute("statusText")||g.statusText;else if(p){var b=D.getElementsByTagName("pre")[0],T=D.getElementsByTagName("body")[0];b?g.responseText=b.textContent?b.textContent:b.innerText:T&&(g.responseText=T.textContent?T.textContent:T.innerText)}}else h!="xml"||g.responseXML||g.responseText==null||(g.responseXML=I(g.responseText));try{E=N(g,h,d)}catch(e){a="parsererror",g.error=o=e||a}}catch(e){s("error caught: ",e),a="error",g.error=o=e||a}g.aborted&&(s("upload aborted"),a=null),g.status&&(a=g.status>=200&&300>g.status||g.status===304?"success":"error"),a==="success"?(d.success&&d.success.call(d.context,E,"success",g),u&&t.event.trigger("ajaxSuccess",[g,d])):a&&(o==void 0&&(o=g.statusText),d.error&&d.error.call(d.context,g,a,o),u&&t.event.trigger("ajaxError",[g,d,o])),u&&t.event.trigger("ajaxComplete",[g,d]),u&&!--t.active&&t.event.trigger("ajaxStop"),d.complete&&d.complete.call(d.context,g,a),O=!0,d.timeout&&clearTimeout(w),setTimeout(function(){d.iframeTarget||f.remove(),g.responseXML=null},100)}}}var c,h,d,u,p,f,m,g,v,b,y,w,T=l[0],x=!!t.fn.prop;if(i)if(x)for(h=0;i.length>h;h++)c=t(T[i[h].name]),c.prop("disabled",!1);else for(h=0;i.length>h;h++)c=t(T[i[h].name]),c.removeAttr("disabled");if(t(":input[name=submit],:input[id=submit]",T).length)return alert('Error: Form elements must not have name or id of "submit".'),void 0;if(d=t.extend(!0,{},t.ajaxSettings,e),d.context=d.context||d,p="jqFormIO"+(new Date).getTime(),d.iframeTarget?(f=t(d.iframeTarget),b=f.attr("name"),b==null?f.attr("name",p):p=b):(f=t('<iframe name="'+p+'" src="'+d.iframeSrc+'" />'),f.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=f[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var i=e==="timeout"?"timeout":"aborted";s("aborting upload... "+i),this.aborted=1,f.attr("src",d.iframeSrc),g.error=i,d.error&&d.error.call(d.context,g,i,e),u&&t.event.trigger("ajaxError",[g,d,i]),d.complete&&d.complete.call(d.context,g,i)}},u=d.global,u&&!t.active++&&t.event.trigger("ajaxStart"),u&&t.event.trigger("ajaxSend",[g,d]),d.beforeSend&&d.beforeSend.call(d.context,g,d)===!1)return d.global&&t.active--,void 0;if(!g.aborted){v=T.clk,v&&(b=v.name,b&&!v.disabled&&(d.extraData=d.extraData||{},d.extraData[b]=v.value,v.type=="image"&&(d.extraData[b+".x"]=T.clk_x,d.extraData[b+".y"]=T.clk_y)));var C=1,k=2,S=t("meta[name=csrf-token]").attr("content"),$=t("meta[name=csrf-param]").attr("content");$&&S&&(d.extraData=d.extraData||{},d.extraData[$]=S),d.forceSync?a():setTimeout(a,10);var E,D,O,A=50,I=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&e.documentElement.nodeName!="parsererror"?e:null},R=t.parseJSON||function(t){return window.eval("("+t+")")},N=function(e,i,s){var n=e.getResponseHeader("content-type")||"",o=i==="xml"||!i&&n.indexOf("xml")>=0,a=o?e.responseXML:e.responseText;return o&&a.documentElement.nodeName==="parsererror"&&t.error&&t.error("parsererror"),s&&s.dataFilter&&(a=s.dataFilter(a,i)),typeof a=="string"&&(i==="json"||!i&&n.indexOf("json")>=0?a=R(a):(i==="script"||!i&&n.indexOf("javascript")>=0)&&t.globalEval(a)),a}}}if(!this.length)return s("ajaxSubmit: skipping submit process - no element selected"),this;var o,a,r,l=this;typeof e=="function"&&(e={success:e}),o=this.attr("method"),a=this.attr("action"),r=typeof a=="string"?t.trim(a):"",r=r||window.location.href||"",r&&(r=(r.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:r,success:t.ajaxSettings.success,type:o||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var c={};if(this.trigger("form-pre-serialize",[this,e,c]),c.veto)return s("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return s("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=e.traditional;h===void 0&&(h=t.ajaxSettings.traditional);var d,u=this.formToArray(e.semantic);if(e.data&&(e.extraData=e.data,d=t.param(e.data,h)),e.beforeSubmit&&e.beforeSubmit(u,this,e)===!1)return s("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[u,this,e,c]),c.veto)return s("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var p=t.param(u,h);d&&(p=p?p+"&"+d:d),e.type.toUpperCase()=="GET"?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+p,e.data=null):e.data=p;var f=[];if(e.resetForm&&f.push(function(){l.resetForm()}),e.clearForm&&f.push(function(){l.clearForm(e.includeHidden)}),!e.dataType&&e.target){var m=e.success||function(){};f.push(function(i){var s=e.replaceTarget?"replaceWith":"html";t(e.target)[s](i).each(m,arguments)})}else e.success&&f.push(e.success);e.success=function(t,i,s){for(var n=e.context||e,o=0,a=f.length;a>o;o++)f[o].apply(n,[t,i,s||l,l])};var g=t("input:file:enabled[value]",this),v=g.length>0,b="multipart/form-data",y=l.attr("enctype")==b||l.attr("encoding")==b,w=!!(v&&g.get(0).files&&window.FormData);s("fileAPI :"+w);var T=(v||y)&&!w;return e.iframe!==!1&&(e.iframe||T)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){n(u)}):n(u):(v||y)&&w?(e.progress=e.progress||t.noop,i(u)):t.ajax(e),this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(n){if(n=n||{},n.delegation=n.delegation&&t.isFunction(t.fn.on),!n.delegation&&this.length===0){var o={s:this.selector,c:this.context};return!t.isReady&&o.s?(s("DOM not ready, queuing ajaxForm"),t(function(){t(o.s,o.c).ajaxForm(n)}),this):(s("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return n.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,n,e).on("click.form-plugin",this.selector,n,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",n,e).bind("click.form-plugin",n,i)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e){var i=[];if(this.length===0)return i;var s=this[0],n=e?s.getElementsByTagName("*"):s.elements;if(!n)return i;var o,a,r,l,c,h,d;for(o=0,h=n.length;h>o;o++)if(c=n[o],r=c.name)if(e&&s.clk&&c.type=="image")c.disabled||s.clk!=c||(i.push({name:r,value:t(c).val(),type:c.type}),i.push({name:r+".x",value:s.clk_x},{name:r+".y",value:s.clk_y}));else if(l=t.fieldValue(c,!0),l&&l.constructor==Array)for(a=0,d=l.length;d>a;a++)i.push({name:r,value:l[a]});else l!==null&&l!==void 0&&i.push({name:r,value:l,type:c.type});if(!e&&s.clk){var u=t(s.clk),p=u[0];r=p.name,r&&!p.disabled&&p.type=="image"&&(i.push({name:r,value:u.val()}),i.push({name:r+".x",value:s.clk_x},{name:r+".y",value:s.clk_y}))}return i},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var i=[];return this.each(function(){var s=this.name;if(s){var n=t.fieldValue(this,e);if(n&&n.constructor==Array)for(var o=0,a=n.length;a>o;o++)i.push({name:s,value:n[o]});else n!==null&&n!==void 0&&i.push({name:this.name,value:n})}}),t.param(i)},t.fn.fieldValue=function(e){for(var i=[],s=0,n=this.length;n>s;s++){var o=this[s],a=t.fieldValue(o,e);a===null||a===void 0||a.constructor==Array&&!a.length||(a.constructor==Array?t.merge(i,a):i.push(a))}return i},t.fieldValue=function(e,i){var s=e.name,n=e.type,o=e.tagName.toLowerCase();if(i===void 0&&(i=!0),i&&(!s||e.disabled||n=="reset"||n=="button"||(n=="checkbox"||n=="radio")&&!e.checked||(n=="submit"||n=="image")&&e.form&&e.form.clk!=e||o=="select"&&e.selectedIndex==-1))return null;if(o=="select"){var a=e.selectedIndex;if(0>a)return null;for(var r=[],l=e.options,c=n=="select-one",h=c?a+1:l.length,d=c?a:0;h>d;d++){var u=l[d];if(u.selected){var p=u.value;if(p||(p=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),c)return p;r.push(p)}}return r}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(t){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var i=this.type,s=this.tagName.toLowerCase();e.test(i)||s=="textarea"||t&&/hidden/.test(i)?this.value="":i=="checkbox"||i=="radio"?this.checked=!1:s=="select"&&(this.selectedIndex=-1)})},t.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return t===void 0&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return e===void 0&&(e=!0),this.each(function(){var i=this.type;if(i=="checkbox"||i=="radio")this.checked=e;else if(this.tagName.toLowerCase()=="option"){var s=t(this).parent("select");e&&s[0]&&s[0].type=="select-one"&&s.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(jQuery),function(t){typeof exports=="object"&&exports&&typeof module=="object"&&module&&module.exports===exports?t(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e=t[0];return e.offsetWidth>0&&e.offsetHeight>0}function i(e){if(e.minTime&&(e.minTime=y(e.minTime)),e.maxTime&&(e.maxTime=y(e.maxTime)),e.durationTime&&typeof e.durationTime!="function"&&(e.durationTime=y(e.durationTime)),e.scrollDefault=="now"?e.scrollDefault=y(new Date):e.scrollDefault?e.scrollDefault=y(e.scrollDefault):e.minTime&&(e.scrollDefault=e.minTime),e.scrollDefault&&(e.scrollDefault=e.roundingFunction(e.scrollDefault,e)),t.type(e.timeFormat)==="string"&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),e.disableTimeRanges.length>0){for(var i in e.disableTimeRanges)e.disableTimeRanges[i]=[y(e.disableTimeRanges[i][0]),y(e.disableTimeRanges[i][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(t,e){return t[0]-e[0]});for(var i=e.disableTimeRanges.length-1;i>0;i--)e.disableTimeRanges[i-1][1]>=e.disableTimeRanges[i][0]&&(e.disableTimeRanges[i-1]=[Math.min(e.disableTimeRanges[i][0],e.disableTimeRanges[i-1][0]),Math.max(e.disableTimeRanges[i][1],e.disableTimeRanges[i-1][1])],e.disableTimeRanges.splice(i,1))}return e}function s(e){var i=e.data("timepicker-settings"),s=e.data("timepicker-list");if(s&&s.length&&(s.remove(),e.data("timepicker-list",!1)),i.useSelect){s=t("<select />",{"class":"ui-timepicker-select"});var a=s}else{s=t("<ul />",{"class":"ui-timepicker-list"});var a=t("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});a.css({display:"none",position:"absolute"}).append(s)}if(i.noneOption)if(i.noneOption===!0&&(i.noneOption=i.useSelect?"Time...":"None"),t.isArray(i.noneOption)){for(var r in i.noneOption)if(parseInt(r,10)==r){var c=n(i.noneOption[r],i.useSelect);s.append(c)}}else{var c=n(i.noneOption,i.useSelect);s.append(c)}i.className&&a.addClass(i.className),i.minTime===null&&i.durationTime===null||!i.showDuration||(typeof i.step=="function"?"function":i.step,a.addClass("ui-timepicker-with-duration"),a.addClass("ui-timepicker-step-"+i.step));var d=i.minTime;typeof i.durationTime=="function"?d=y(i.durationTime()):i.durationTime!==null&&(d=i.durationTime);var u=i.minTime!==null?i.minTime:0,f=i.maxTime!==null?i.maxTime:u+T-1;u>f&&(f+=T),f===T-1&&t.type(i.timeFormat)==="string"&&i.show2400&&(f=T);var m=i.disableTimeRanges,w=0,x=m.length,k=i.step;typeof k!="function"&&(k=function(){return i.step});for(var r=u,S=0;f>=r;S++,r+=k(S)*60){var $=r,E=b($,i);if(i.useSelect){var D=t("<option />",{value:E});D.text(E)}else{var D=t("<li />");D.data("time",86400>=$?$:$%86400),D.text(E)}if((i.minTime!==null||i.durationTime!==null)&&i.showDuration){var O=v(r-d,i.step);if(i.useSelect)D.text(D.text()+" ("+O+")");else{var A=t("<span />",{"class":"ui-timepicker-duration"});A.text(" ("+O+")"),D.append(A)}}x>w&&($>=m[w][1]&&(w+=1),m[w]&&$>=m[w][0]&&m[w][1]>$&&(i.useSelect?D.prop("disabled",!0):D.addClass("ui-timepicker-disabled"))),s.append(D)}if(a.data("timepicker-input",e),e.data("timepicker-list",a),i.useSelect)e.val()&&s.val(o(e.val(),i)),s.on("focus",function(){t(this).data("timepicker-input").trigger("showTimepicker")}),s.on("blur",function(){t(this).data("timepicker-input").trigger("hideTimepicker")}),s.on("change",function(){p(e,t(this).val(),"select")}),p(e,s.val()),e.hide().after(s);else{var I=i.appendTo;typeof I=="string"?I=t(I):typeof I=="function"&&(I=I(e)),I.append(a),h(e,s),s.on("mousedown","li",function(){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",C.show)}),l(e)||e[0].focus(),s.find("li").removeClass("ui-timepicker-selected"),t(this).addClass("ui-timepicker-selected"),g(e)&&(e.trigger("hideTimepicker"),s.on("mouseup.timepicker","li",function(){s.off("mouseup.timepicker"),a.hide()}))})}}function n(e,i){var s,n,o;return typeof e=="object"?(s=e.label,n=e.className,o=e.value):typeof e=="string"?s=e:t.error("Invalid noneOption value"),i?t("<option />",{value:o,"class":n,text:s}):t("<li />",{"class":n,text:s}).data("time",o)}function o(t,e){return t=e.roundingFunction(t,e),t!==null?b(t,e):void 0}function a(){return new Date(1970,1,1,0,0,0)}function r(e){var i=t(e.target),s=i.closest(".ui-timepicker-input");s.length===0&&i.closest(".ui-timepicker-wrapper").length===0&&(C.hide(),t(document).unbind(".ui-timepicker"))}function l(t){var e=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function c(e,i,s){if(!s&&s!==0)return!1;var n=e.data("timepicker-settings"),o=!1,s=n.roundingFunction(s,n);return i.find("li").each(function(e,i){var n=t(i);if(typeof n.data("time")=="number")return n.data("time")==s?(o=n,!1):void 0}),o}function h(t,e){e.find("li").removeClass("ui-timepicker-selected");var i=y(u(t),t.data("timepicker-settings"));if(i!==null){var s=c(t,e,i);if(s){var n=s.offset().top-e.offset().top;(n+s.outerHeight()>e.outerHeight()||0>n)&&e.scrollTop(e.scrollTop()+s.position().top-s.outerHeight()),s.addClass("ui-timepicker-selected")}}}function d(e,i){if(this.value!==""&&i!="timepicker"){var s=t(this);if(!s.is(":focus")||e&&e.type=="change"){var n=s.data("timepicker-settings"),o=y(this.value,n);if(o===null)return s.trigger("timeFormatError"),void 0;var a=!1;n.minTime!==null&&n.minTime>o?a=!0:n.maxTime!==null&&o>n.maxTime&&(a=!0),t.each(n.disableTimeRanges,function(){return o>=this[0]&&this[1]>o?(a=!0,!1):void 0}),n.forceRoundTime&&(o=n.roundingFunction(o,n));var r=b(o,n);a?p(s,r,"error")&&s.trigger("timeRangeError"):p(s,r)}}}function u(t){return t.is("input")?t.val():t.data("ui-timepicker-value")}function p(t,e,i){if(t.is("input")){t.val(e);var s=t.data("timepicker-settings");s.useSelect&&i!="select"&&t.data("timepicker-list").val(o(e,s))}return t.data("ui-timepicker-value")!=e?(t.data("ui-timepicker-value",e),i=="select"?t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):i!="error"&&t.trigger("changeTime"),!0):(t.trigger("selectTime"),!1)}function f(i){var s=t(this),n=s.data("timepicker-list");if(!n||!e(n)){if(i.keyCode!=40)return!0;C.show.call(s.get(0)),n=s.data("timepicker-list"),l(s)||s.focus()}switch(i.keyCode){case 13:return g(s)&&C.hide.apply(this),i.preventDefault(),!1;case 38:var o=n.find(".ui-timepicker-selected");return o.length?o.is(":first-child")||(o.removeClass("ui-timepicker-selected"),o.prev().addClass("ui-timepicker-selected"),o.outerHeight()>o.prev().position().top&&n.scrollTop(n.scrollTop()-o.outerHeight())):(n.find("li").each(function(e,i){return t(i).position().top>0?(o=t(i),!1):void 0}),o.addClass("ui-timepicker-selected")),!1;case 40:return o=n.find(".ui-timepicker-selected"),o.length===0?(n.find("li").each(function(e,i){return t(i).position().top>0?(o=t(i),!1):void 0}),o.addClass("ui-timepicker-selected")):o.is(":last-child")||(o.removeClass("ui-timepicker-selected"),o.next().addClass("ui-timepicker-selected"),o.next().position().top+2*o.outerHeight()>n.outerHeight()&&n.scrollTop(n.scrollTop()+o.outerHeight())),!1;case 27:n.find("li").removeClass("ui-timepicker-selected"),C.hide();break;case 9:C.hide();break;default:return!0}}function m(i){var s=t(this),n=s.data("timepicker-list");if(!n||!e(n))return!0;if(!s.data("timepicker-settings").typeaheadHighlight)return n.find("li").removeClass("ui-timepicker-selected"),!0;switch(i.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:h(s,n);break;default:return}}function g(t){var e=t.data("timepicker-settings"),i=t.data("timepicker-list"),s=null,n=i.find(".ui-timepicker-selected");if(n.hasClass("ui-timepicker-disabled"))return!1;if(n.length&&(s=n.data("time")),s!==null)if(typeof s=="string")t.val(s),t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker");else{var o=b(s,e);p(t,o,"select")}return!0}function v(t,e){t=Math.abs(t);var i,s,n=Math.round(t/60),o=[];return 60>n?o=[n,x.mins]:(i=Math.floor(n/60),s=n%60,e==30&&s==30&&(i+=x.decimal+5),o.push(i),o.push(i==1?x.hr:x.hrs),e!=30&&s&&(o.push(s),o.push(x.mins))),o.join(" ")}function b(e,i){if(e!==null){var s=new Date(w.valueOf()+e*1e3);if(!isNaN(s.getTime())){if(t.type(i.timeFormat)==="function")return i.timeFormat(s);for(var n,o,a="",r=0;i.timeFormat.length>r;r++)switch(o=i.timeFormat.charAt(r)){case"a":a+=s.getHours()>11?x.pm:x.am;break;case"A":a+=s.getHours()>11?x.PM:x.AM;break;case"g":n=s.getHours()%12,a+=n===0?"12":n;break;case"G":n=s.getHours(),e===T&&(n=24),a+=n;break;case"h":n=s.getHours()%12,n!==0&&10>n&&(n="0"+n),a+=n===0?"12":n;break;case"H":n=s.getHours(),e===T&&(n=24),a+=n>9?n:"0"+n;break;case"i":var l=s.getMinutes();a+=l>9?l:"0"+l;break;case"s":e=s.getSeconds(),a+=e>9?e:"0"+e;break;case"\\":r++,a+=format.charAt(r);break;default:a+=o}return a}}}function y(t,e){if(t==="")return null;if(!t||t+0==t)return t;if(typeof t=="object")return t.getHours()*3600+t.getMinutes()*60+t.getSeconds();t=t.toLowerCase().replace(".",""),(t.slice(-1)=="a"||t.slice(-1)=="p")&&(t+="m");var i="("+x.am.replace(".","")+"|"+x.pm.replace(".","")+"|"+x.AM.replace(".","")+"|"+x.PM.replace(".","")+")?",s=RegExp("^"+i+"\\s*([0-2]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?\\s*"+i+"$"),n=t.match(s);if(!n)return null;var o=parseInt(n[2]*1,10),a=n[1]||n[5],r=o;if(12>=o&&a){var l=a==x.pm||a==x.PM;r=o==12?l?12:0:o+(l?12:0)}var c=n[3]*1||0,h=n[4]*1||0,d=r*3600+c*60+h;if(!a&&e&&e._twelveHourTime&&e.scrollDefault){var u=d-e.scrollDefault;0>u&&u>=T/-2&&(d=(d+T/2)%T)}return d}var w=a(),T=86400,x={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},C={init:function(e){return this.each(function(){var n=t(this),o=[];for(var a in t.fn.timepicker.defaults)n.data(a)&&(o[a]=n.data(a));var r=t.extend({},t.fn.timepicker.defaults,o,e);r.lang&&(x=t.extend(x,r.lang)),r=i(r),n.data("timepicker-settings",r),n.addClass("ui-timepicker-input"),r.useSelect?s(n):(n.prop("autocomplete","off"),n.on("click.timepicker focus.timepicker",C.show),n.on("change.timepicker",d),n.on("keydown.timepicker",f),n.on("keyup.timepicker",m),d.call(n.get(0)))})},show:function(i){var n=t(this),o=n.data("timepicker-settings");if(i){if(!o.showOnFocus)return!0;i.preventDefault()}if(o.useSelect)return n.data("timepicker-list").focus(),void 0;l(n)&&n.blur();var a=n.data("timepicker-list");if(!n.prop("readonly")&&(a&&a.length!==0&&typeof o.durationTime!="function"||(s(n),a=n.data("timepicker-list")),!e(a))){C.hide(),a.show();var h={};h.left=o.orientation.match(/r/)?n.offset().left+n.outerWidth()-a.outerWidth()+parseInt(a.css("marginLeft").replace("px",""),10):n.offset().left+parseInt(a.css("marginLeft").replace("px",""),10);var d;d=o.orientation.match(/t/)?"t":o.orientation.match(/b/)?"b":n.offset().top+n.outerHeight(!0)+a.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b",d=="t"?(a.addClass("ui-timepicker-positioned-top"),h.top=n.offset().top-a.outerHeight()+parseInt(a.css("marginTop").replace("px",""),10)):(a.removeClass("ui-timepicker-positioned-top"),h.top=n.offset().top+n.outerHeight()+parseInt(a.css("marginTop").replace("px",""),10)),a.offset(h);var p=a.find(".ui-timepicker-selected");if(p.length||(u(n)?p=c(n,a,y(u(n))):o.scrollDefault&&(p=c(n,a,o.scrollDefault))),p&&p.length){var f=a.scrollTop()+p.position().top-p.outerHeight();a.scrollTop(f)}else a.scrollTop(0);return t(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",r),o.closeOnWindowScroll&&t(document).on("scroll.ui-timepicker",r),n.trigger("showTimepicker"),this}},hide:function(){var i=t(this),s=i.data("timepicker-settings");return s&&s.useSelect&&i.blur(),t(".ui-timepicker-wrapper").each(function(){var i=t(this);if(e(i)){var s=i.data("timepicker-input"),n=s.data("timepicker-settings");n&&n.selectOnBlur&&g(s),i.hide(),s.trigger("hideTimepicker")}}),this},option:function(e,n){return this.each(function(){var o=t(this),a=o.data("timepicker-settings"),r=o.data("timepicker-list");if(typeof e=="object")a=t.extend(a,e);else if(typeof e=="string"&&n!==void 0)a[e]=n;else if(typeof e=="string")return a[e];a=i(a),o.data("timepicker-settings",a),r&&(r.remove(),o.data("timepicker-list",!1)),a.useSelect&&s(o)})},getSecondsFromMidnight:function(){return y(u(this))},getTime:function(t){var e=this,i=u(e);if(!i)return null;t||(t=new Date);var s=y(i),n=new Date(t);return n.setHours(s/3600),n.setMinutes(s%3600/60),n.setSeconds(s%60),n.setMilliseconds(0),n},setTime:function(t){var e=this,i=e.data("timepicker-settings");if(i.forceRoundTime)var s=o(t,i);else var s=b(y(t),i);return p(e,s),e.data("timepicker-list")&&h(e,e.data("timepicker-list")),this},remove:function(){var t=this;if(t.hasClass("ui-timepicker-input")){var e=t.data("timepicker-settings");return t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),e.useSelect&&t.show(),t.removeData("timepicker-list"),this}}};t.fn.timepicker=function(e){return this.length?C[e]?this.hasClass("ui-timepicker-input")?C[e].apply(this,Array.prototype.slice.call(arguments,1)):this:typeof e!="object"&&e?(t.error("Method "+e+" does not exist on jQuery.timepicker"),void 0):C.init.apply(this,arguments):this},t.fn.timepicker.defaults={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,showOnFocus:!0,timeFormat:"g:ia",scrollDefault:null,selectOnBlur:!1,disableTouchKeyboard:!1,forceRoundTime:!1,roundingFunction:function(t,e){if(t===null)return null;var i=t%(e.step*60);return i>=e.step*30?t+=e.step*60-i:t-=i,t},appendTo:"body",orientation:"l",disableTimeRanges:[],closeOnWindowScroll:!1,typeaheadHighlight:!0,noneOption:!1,show2400:!1}}),function(t){t.fn.each2===void 0&&t.fn.extend({each2:function(e){var i=t([0]),s=-1,n=this.length;while(n>++s&&(i.context=i[0]=this[s])&&e.call(i[0],s,i)!==!1);return this}})}(jQuery),function(t,e){"use strict";function i(t,e){for(var i=0,n=e.length;n>i;i+=1)if(s(t,e[i]))return i;return-1}function s(t,i){return t===i?!0:t===e||i===e?!1:t===null||i===null?!1:t.constructor===String?t+""==i+"":i.constructor===String?i+""==t+"":!1}function n(e,i){var s,n,o;if(e===null||1>e.length)return[];for(s=e.split(i),n=0,o=s.length;o>n;n+=1)s[n]=t.trim(s[n]);return s}function o(t){return t.outerWidth(!1)-t.width()}function a(i){var s="keyup-change-value";i.bind("keydown",function(){t.data(i,s)===e&&t.data(i,s,i.val())}),i.bind("keyup",function(){var n=t.data(i,s);n!==e&&i.val()!==n&&(t.removeData(i,s),i.trigger("keyup-change"))})}function r(i){i.bind("mousemove",function(i){var s=I;(s===e||s.x!==i.pageX||s.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)})}function l(t,i,s){s=s||e;var n;return function(){var e=arguments;window.clearTimeout(n),n=window.setTimeout(function(){i.apply(s,e)},t)}}function c(t){var e,i=!1;return function(){return i===!1&&(e=t(),i=!0),e}}function h(t,e){var s=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){i(t.target,e.get())>=0&&s(t)})}function d(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,i=t[0],s=t.val().length;t.focus(),t.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(s,s):i.createTextRange&&(e=i.createTextRange(),e.collapse(!1),e.select()))},0)}function u(t){t.preventDefault(),t.stopPropagation()}function p(t){t.preventDefault(),t.stopImmediatePropagation()}function f(e){if(!A){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);A=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),t("body").append(A)
}return A.text(e.val()),A.width()}function m(e,i,s){var n,o,a=[];n=e.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){this.indexOf("select2-")===0&&a.push(this)})),n=i.attr("class"),n&&(n=""+n,t(n.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(o=s(this),o&&a.push(this))})),e.attr("class",a.join(" "))}function g(t,i,s,n){var o=t.toUpperCase().indexOf(i.toUpperCase()),a=i.length;return 0>o?(s.push(n(t)),e):(s.push(n(t.substring(0,o))),s.push("<span class='select2-match'>"),s.push(n(t.substring(o,o+a))),s.push("</span>"),s.push(n(t.substring(o+a,t.length))),e)}function v(e){var i,s=0,n=null,o=e.quietMillis||100,a=e.url,r=this;return function(l){window.clearTimeout(i),i=window.setTimeout(function(){s+=1;var i=s,o=e.data,c=a,h=e.transport||t.ajax,d=e.type||"GET",u={};o=o?o.call(r,l.term,l.page,l.context):null,c=typeof c=="function"?c.call(r,l.term,l.page,l.context):c,null!==n&&n.abort(),e.params&&(t.isFunction(e.params)?t.extend(u,e.params.call(r)):t.extend(u,e.params)),t.extend(u,{url:c,dataType:e.dataType,data:o,type:d,cache:!1,success:function(t){if(!(s>i)){var n=e.results(t,l.page);l.callback(n)}}}),n=h.call(r,u)},o)}}function b(i){var s,n,o=i,a=function(t){return""+t.text};t.isArray(o)&&(n=o,o={results:n}),t.isFunction(o)===!1&&(n=o,o=function(){return n});var r=o();return r.text&&(a=r.text,t.isFunction(a)||(s=o.text,a=function(t){return t[s]})),function(i){var s,n=i.term,r={results:[]};return n===""?(i.callback(o()),e):(s=function(e,o){var r,l;if(e=e[0],e.children){r={};for(l in e)e.hasOwnProperty(l)&&(r[l]=e[l]);r.children=[],t(e.children).each2(function(t,e){s(e,r.children)}),(r.children.length||i.matcher(n,a(r),e))&&o.push(r)}else i.matcher(n,a(e),e)&&o.push(e)},t(o().results).each2(function(t,e){s(e,r.results)}),i.callback(r),e)}}function y(i){var s=t.isFunction(i);return function(n){var o=n.term,a={results:[]};t(s?i():i).each(function(){var t=this.text!==e,i=t?this.text:this;(o===""||n.matcher(o,i))&&a.results.push(t?this:{id:this,text:this})}),n.callback(a)}}function w(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function T(e){return t.isFunction(e)?e():e}function x(e){var i=0;return t.each(e,function(t,e){e.children?i+=x(e.children):i++}),i}function C(t,i,n,o){var a,r,l,c,h,d=t,u=!1;if(!o.createSearchChoice||!o.tokenSeparators||1>o.tokenSeparators.length)return e;for(;;){for(r=-1,l=0,c=o.tokenSeparators.length;c>l;l++)if(h=o.tokenSeparators[l],r=t.indexOf(h),r>=0)break;if(0>r)break;if(a=t.substring(0,r),t=t.substring(r+h.length),a.length>0&&(a=o.createSearchChoice(a,i),a!==e&&a!==null&&o.id(a)!==e&&o.id(a)!==null)){for(u=!1,l=0,c=i.length;c>l;l++)if(s(o.id(a),o.id(i[l]))){u=!0;break}u||n(a)}}return d!==t?t:e}function k(e,i){var s=function(){};return s.prototype=new e,s.prototype.constructor=s,s.prototype.parent=e.prototype,s.prototype=t.extend(s.prototype,i),s}if(window.Select2===e){var S,$,E,D,O,A,I,R;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},R=t(document),O=function(){var t=1;return function(){return t++}}(),R.bind("mousemove",function(t){I={x:t.pageX,y:t.pageY}}),$=k(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var s,n,o=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&i.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+O()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return i.element.closest("body")}),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(T(i.containerCss)),this.container.addClass(T(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){t(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(T(i.dropdownCssClass)),this.dropdown.data("select2",this),this.results=s=this.container.find(o),this.search=n=this.container.find("input.select2-input"),n.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),r(this.results),this.dropdown.delegate(o,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.delegate(o,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&s.mousewheel(function(t,e,i,n){var o=s.scrollTop();n>0&&0>=o-n?(s.scrollTop(0),u(t)):0>n&&s.height()>=s.get(0).scrollHeight-s.scrollTop()+n&&(s.scrollTop(s.get(0).scrollHeight-s.height()),u(t))}),a(n),n.bind("keyup-change input paste",this.bind(this.updateResults)),n.bind("focus",function(){n.addClass("select2-focused")}),n.bind("blur",function(){n.removeClass("select2-focused")}),this.dropdown.delegate(o,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(i.element.is(":disabled")||i.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(i){var o,a,r,l;if(o=i.element,o.get(0).tagName.toLowerCase()==="select"&&(this.select=a=i.element),a&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),i=t.extend({},{populateResults:function(s,n,o){var a,r=this.opts.id,l=this;a=function(s,n,c){var h,d,u,p,f,m,g,v,b,y;for(s=i.sortResults(s,n,o),h=0,d=s.length;d>h;h+=1)u=s[h],f=u.disabled===!0,p=!f&&r(u)!==e,m=u.children&&u.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(p?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(u)),v=t(document.createElement("div")),v.addClass("select2-result-label"),y=i.formatResult(u,v,o,l.opts.escapeMarkup),y!==e&&v.html(y),g.append(v),m&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),a(u.children,b,c+1),g.append(b)),g.data("select2-data",u),n.append(g)},a(n,s,0)}},t.fn.select2.defaults,i),typeof i.id!="function"&&(r=i.id,i.id=function(t){return t[r]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(a?(i.query=this.bind(function(i){var n,a,r,l={results:[],more:!1},c=i.term;r=function(t,e){var n;t.is("option")?i.matcher(c,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:s(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(n={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){r(e,n.children)}),n.children.length>0&&e.push(n))},n=o.children(),this.getPlaceholder()!==e&&n.length>0&&(a=n[0],t(a).text()===""&&(n=n.not(a))),n.each2(function(t,e){r(e,l.results)}),i.callback(l)}),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?(l=i.element.data("ajax-url"),l&&l.length>0&&(i.ajax.url=l),i.query=v.call(i.element,i.ajax)):"data"in i?i.query=b(i.data):"tags"in i&&(i.query=y(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(t){return{id:t,text:t}}),i.initSelection===e&&(i.initSelection=function(o,a){var r=[];t(n(o.val(),i.separator)).each(function(){var n=this,o=this,a=i.tags;t.isFunction(a)&&(a=a()),t(a).each(function(){return s(this.id,n)?(o=this.text,!1):e}),r.push({id:n,text:o})}),a(r)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t,e=this.opts.element;e.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,e;t=this.opts.element.attr("disabled")!=="disabled",e=this.opts.element.attr("readonly")==="readonly",t=t&&!e,this.enabled!==t&&(t?this.enable():this.disable()),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(T(this.opts.containerCssClass)),m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(T(this.opts.dropdownCssClass))}),e.bind("propertychange.select2 DOMAttrModified.select2",t),typeof WebKitMutationObserver!="undefined"&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,s,n=this.container.offset(),o=this.container.outerHeight(!1),a=this.container.outerWidth(!1),r=this.dropdown.outerHeight(!1),l=t(window).scrollLeft()+t(window).width(),c=t(window).scrollTop()+t(window).height(),h=n.top+o,d=n.left,u=c>=h+r,p=n.top-r>=this.body().scrollTop(),f=this.dropdown.outerWidth(!1),m=l>=d+f,g=this.dropdown.hasClass("select2-drop-above");this.body().css("position")!=="static"&&(e=this.body().offset(),h-=e.top,d-=e.left),g?(i=!0,!p&&u&&(i=!1)):(i=!1,!u&&p&&(i=!0)),m||(d=n.left+a-f),i?(h=n.top-r,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),s=t.extend({top:h,left:d,width:a},T(this.opts.dropdownCss)),this.dropdown.css(s)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var i,s=this.containerId,n="scroll."+s,o="resize."+s,a="orientationchange."+s;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),i=t("#select2-drop-mask"),i.length==0&&(i=t(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.bind("mousedown touchstart",function(){var e,i=t("#select2-drop");i.length>0&&(e=i.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.css(e()),i.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var r=this;this.container.parents().add(window).each(function(){t(this).bind(o+" "+n+" "+a,function(){t("#select2-drop-mask").css(e()),r.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,s="resize."+e,n="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(i).unbind(s).unbind(n)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return T(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var i,s,n,o,a,r,l,c=this.results;if(s=this.highlight(),!(0>s)){if(s==0)return c.scrollTop(0),e;i=this.findHighlightableChoices(),n=t(i[s]),o=n.offset().top+n.outerHeight(!0),s===i.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(o=l.offset().top+l.outerHeight(!0))),a=c.offset().top+c.outerHeight(!0),o>a&&c.scrollTop(c.scrollTop()+(o-a)),r=n.offset().top-c.offset().top,0>r&&n.css("display")!="none"&&c.scrollTop(c.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){var i=this.findHighlightableChoices(),s=this.highlight();while(s>-1&&i.length>s){s+=e;var n=t(i[s]);if(n.hasClass("select2-result-selectable")&&!n.hasClass("select2-disabled")&&!n.hasClass("select2-selected")){this.highlight(s);break}}},highlight:function(s){var n,o,a=this.findHighlightableChoices();return arguments.length===0?i(a.filter(".select2-highlighted")[0],a.get()):(s>=a.length&&(s=a.length-1),0>s&&(s=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),n=t(a[s]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),o=n.data("select2-data"),o&&this.opts.element.trigger({type:"highlight",val:this.id(o),choice:o}),e)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var s=this.findHighlightableChoices();this.highlight(s.index(i))}else i.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,i=e.find("li.select2-more-results"),s=this.resultsPage+1,n=this,o=this.search.val(),a=this.context;i.length!==0&&(t=i.offset().top-e.offset().top-e.height(),this.opts.loadMorePadding>=t&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:s,context:a,matcher:this.opts.matcher,callback:this.bind(function(t){n.opened()&&(n.opts.populateResults.call(this,e,t.results,{term:o,page:s,context:a}),n.postprocessResults(t,!1,!1),t.more===!0?(i.detach().appendTo(e).text(n.opts.formatLoadMore(s+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=s,n.context=t.context)})})))},tokenize:function(){},updateResults:function(i){function n(){c.scrollTop(0),l.removeClass("select2-active"),d.positionDropdown()}function o(t){c.html(t),n()}var a,r,l=this.search,c=this.results,h=this.opts,d=this,u=l.val(),p=t.data(this.container,"select2-last-term");if((i===!0||!p||!s(u,p))&&(t.data(this.container,"select2-last-term",u),i===!0||this.showSearchInput!==!1&&this.opened())){var f=this.getMaximumSelectionSize();if(f>=1&&(a=this.data(),t.isArray(a)&&a.length>=f&&w(h.formatSelectionTooBig,"formatSelectionTooBig")))return o("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(f)+"</li>"),e;if(h.minimumInputLength>l.val().length)return w(h.formatInputTooShort,"formatInputTooShort")?o("<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>"):o(""),e;if(h.maximumInputLength&&l.val().length>h.maximumInputLength)return w(h.formatInputTooLong,"formatInputTooLong")?o("<li class='select2-no-results'>"+h.formatInputTooLong(l.val(),h.maximumInputLength)+"</li>"):o(""),e;h.formatSearching&&this.findHighlightableChoices().length===0&&o("<li class='select2-searching'>"+h.formatSearching()+"</li>"),l.addClass("select2-active"),r=this.tokenize(),r!=e&&r!=null&&l.val(r),this.resultsPage=1,h.query({element:h.element,term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(a){var r;return this.opened()?(this.context=a.context===e?null:a.context,this.opts.createSearchChoice&&l.val()!==""&&(r=this.opts.createSearchChoice.call(null,l.val(),a.results),r!==e&&r!==null&&d.id(r)!==e&&d.id(r)!==null&&t(a.results).filter(function(){return s(d.id(this),d.id(r))}).length===0&&a.results.unshift(r)),a.results.length===0&&w(h.formatNoMatches,"formatNoMatches")?(o("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"),e):(c.empty(),d.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&w(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+d.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){d.loadMoreIfNeeded()},10)),this.postprocessResults(a,i),n(),this.opts.element.trigger({type:"loaded",data:a}),e)):(this.search.removeClass("select2-active"),e)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){d(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted"),s=i.closest(".select2-result").data("select2-data");s&&(this.highlight(e),this.onSelect(s,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function i(){var i,s,n,o,a;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==e)for(s=i.split(";"),o=0,a=s.length;a>o;o+=1)if(n=s[o].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),n!==null&&n.length>=1)return n[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0?i:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var s=i.call(this);s!==null&&this.container.css("width",s)}}),E=k($,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),d(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var i,s=this.container,n=this.dropdown,o=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=i=s.find(".select2-choice"),this.focusser=s.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+O()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)return u(t),e;switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),u(t),e;case S.TAB:case S.ENTER:return this.selectHighlighted(),u(t),e;case S.ESC:return this.cancel(t),u(t),e}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(t){return!this.enabled||t.which===S.TAB||S.isControl(t)||S.isFunctionKey(t)||t.which===S.ESC?e:this.opts.openOnEnter===!1&&t.which===S.ENTER?(u(t),e):t.which==S.DOWN||t.which==S.UP||t.which==S.ENTER&&this.opts.openOnEnter?(this.open(),u(t),e):t.which==S.DELETE||t.which==S.BACKSPACE?(this.opts.allowClear&&this.clear(),u(t),e):e})),a(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(t){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),u(t))})),i.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),p(t),this.close(),this.selection.focus())})),i.bind("mousedown",this.bind(function(t){o=!0,this.opened()?this.close():this.enabled&&this.open(),u(t),o=!1})),n.bind("mousedown",this.bind(function(){this.search.focus()})),i.bind("focus",this.bind(function(t){u(t)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&i!==null&&(t.updateSelection(i),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(e,i){var s=e.find(":selected");t.isFunction(i)&&i({id:s.attr("value"),text:s.text(),element:s})}:"data"in e&&(e.initSelection=e.initSelection||function(i,n){var o=i.val(),a=null;e.query({matcher:function(t,i,n){var r=s(o,e.id(n));return r&&(a=n),r},callback:t.isFunction(n)?function(){n(a)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.opts.element.val()===""&&t!==e){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,i,n){var o=0,a=this,r=!0;if(this.findHighlightableChoices().each2(function(t,i){return s(a.id(i.data("select2-data")),a.opts.element.val())?(o=t,!1):e}),n!==!1&&this.highlight(o),i===!0){var l=this.opts.minimumResultsForSearch;r=0>l?!1:x(t.results)>=l,this.showSearch(r)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search")[e?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[e?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(t,e){var i=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),s(i,this.id(t))||this.triggerChange()},updateSelection:function(t){var i,s=this.selection.find("span");this.selection.data("select2-data",t),s.empty(),i=this.opts.formatSelection(t,s),i!==e&&s.append(this.opts.escapeMarkup(i)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,i=!1,s=null,n=this;if(arguments.length===0)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return s={id:e.attr("value"),text:e.text(),element:e.get(0)},!1}),this.updateSelection(s),this.setPlaceholder(),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");if(!t&&t!==0)return this.clear(i),i&&this.triggerChange(),e;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):""),n.updateSelection(t),n.setPlaceholder(),i&&n.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i;return arguments.length===0?(i=this.selection.data("select2-data"),i==e&&(i=null),i):(t&&t!==""?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),e)}}),D=k($,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(t,e){var i=[];t.find(":selected").each2(function(t,e){i.push({id:e.attr("value"),text:e.text(),element:e[0]})}),e(i)}:"data"in e&&(e.initSelection=e.initSelection||function(i,o){var a=n(i.val(),e.separator),r=[];e.query({matcher:function(i,n,o){var l=t.grep(a,function(t){return s(t,e.id(o))}).length;return l&&r.push(o),l},callback:t.isFunction(o)?function(){o(r)}:t.noop})}),e},initContainer:function(){var i,s=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=i=this.container.find(s),this.search.attr("id","s2id_autogen"+O()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.BACKSPACE&&this.search.val()===""){this.close();var s,n=i.find(".select2-search-choice-focus");if(n.length>0)return this.unselect(n.first()),this.search.width(10),u(t),e;s=i.find(".select2-search-choice:not(.select2-locked)"),s.length>0&&s.last().addClass("select2-search-choice-focus")}else i.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),u(t),e;case S.ENTER:case S.TAB:return this.selectHighlighted(),u(t),e;case S.ESC:return this.cancel(t),u(t),e}if(t.which!==S.TAB&&!S.isControl(t)&&!S.isFunctionKey(t)&&t.which!==S.BACKSPACE&&t.which!==S.ESC){if(t.which===S.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)&&u(t),t.which===S.ENTER&&u(t)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(s,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(s,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var t=this;this.opts.initSelection.call(null,this.opts.element,function(i){i!==e&&i!==null&&(t.updateSelection(i),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var s=[],n=[],o=this;t(e).each(function(){0>i(o.id(this),s)&&(s.push(o.id(this)),n.push(this))}),e=n,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),t!=null&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var s,n=!i.locked,o=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),a=t("<li class='select2-search-choice select2-locked'><div></div></li>"),r=n?o:a,l=this.id(i),c=this.getVal();
s=this.opts.formatSelection(i,r.find("div")),s!=e&&r.find("div").replaceWith("<div>"+this.opts.escapeMarkup(s)+"</div>"),n&&r.find(".select2-search-choice-close").bind("mousedown",u).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),u(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),r.data("select2-data",i),r.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var e,s,n=this.getVal();if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(s=i(this.id(e),n),s>=0&&(n.splice(s,1),this.setVal(n),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),n=this;e.each2(function(e,s){var o=n.id(s.data("select2-data"));i(o,t)>=0&&(s.addClass("select2-selected"),s.find(".select2-result-selectable").addClass("select2-selected"))}),s.each2(function(t,e){e.is(".select2-result-selectable")||e.find(".select2-result-selectable:not(.select2-selected)").length!==0||e.addClass("select2-selected")}),this.highlight()==-1&&n.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-o(this.search)},resizeSearch:function(){var t,e,i,s,n,a=o(this.search);t=f(this.search)+10,e=this.search.offset().left,i=this.selection.width(),s=this.selection.offset().left,n=i-(e-s)-a,t>n&&(n=i-a),40>n&&(n=i-a),0>=n&&(n=t),this.search.width(n)},getVal:function(){var t;return this.select?(t=this.select.val(),t===null?[]:t):(t=this.opts.element.val(),n(t,this.opts.separator))},setVal:function(e){var s;this.select?this.select.val(e):(s=[],t(e).each(function(){0>i(this,s)&&s.push(this)}),this.opts.element.val(s.length===0?"":s.join(this.opts.separator)))},val:function(){var i,s=!1,n=this;if(arguments.length===0)return this.getVal();if(i=arguments[0],arguments.length>1&&(s=arguments[1]),!i&&i!==0)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),s&&this.triggerChange(),e;if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),s&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var i=t(e).map(n.id);n.setVal(i),n.updateSelection(e),n.clearSearch(),s&&n.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(i.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(i){var s,n=this;return arguments.length===0?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(i||(i=[]),s=t.map(i,function(t){return n.opts.id(t)}),this.setVal(s),this.updateSelection(i),this.clearSearch(),e)}}),t.fn.select2=function(){var s,n,o,a,r=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(r.length===0||typeof r[0]=="object")s=r.length===0?{}:t.extend({},r[0]),s.element=t(this),s.element.get(0).tagName.toLowerCase()==="select"?a=s.element.attr("multiple"):(a=s.multiple||!1,"tags"in s&&(s.multiple=a=!0)),n=a?new D:new E,n.init(s);else{if(typeof r[0]!="string")throw"Invalid arguments to select2 plugin: "+r;if(0>i(r[0],l))throw"Unknown method: "+r[0];if(o=e,n=t(this).data("select2"),n===e)return;if(o=r[0]==="container"?n.container:n[r[0]].apply(n,r.slice(1)),o!==e)return!1}}),o===e?this:o},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,s){var n=[];return g(t.text,i.term,n,s),n.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(i==1?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(i==1?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(t==1?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:C,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return(t+"").replace(/[&<>"'\/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:l,markMatch:g},"class":{"abstract":$,single:E,multi:D}}}}(jQuery),$(function(){activate_widgets();var t=function(){var t=document.location+"",e=null;t.match("#/")?e=$('.nav-tabs.nav-tabs-auto a[href="#'+t.split("#/")[1]+'"]'):t.match("#")&&(e=$('.nav-tabs.nav-tabs-auto a[href="#'+t.split("#")[1]+'"]')),e!==null&&e.length!==0&&$(e[0]).tab("show")};$(window).bind("hashchange",t),t(),$(".nav-tabs.nav-tabs-auto a").on("shown",function(t){window.location.hash="#/"+t.target.hash.slice(1)});var e=document.location+"";if(!e.match("#")){var i=$(".nav-tabs.nav-tabs-auto a").filter(":first");i.length!==0&&$(i[0]).tab("show")}}),$(function(){console.log("Hello, curious geek. Our source is at https://github.com/hasgeek. Why not contribute a patch?")}),window.Baseframe={},window.Baseframe.Config={defaultLatitude:"12.961443",defaultLongitude:"77.64435000000003"},window.Baseframe.Forms={preventSubmitOnEnter:function(t){$("#"+t).on("keyup keypress",function(t){var e=t.keyCode||t.which;return e===13?(t.preventDefault(),!1):void 0})},lastuserAutocomplete:function(t){var e=function(t){return t.map(function(t){return{id:t.buid,text:t.label}})};$("#"+t.id).select2({placeholder:"Search for a user",multiple:t.multiple,minimumInputLength:2,ajax:{url:t.autocomplete_endpoint,dataType:"jsonp",data:function(e){return"client_id"in t?{q:e,client_id:t.client_id,session:t.session_id}:{q:e}},results:function(t){var i=[];return t.status=="ok"&&(i=e(t.users)),{more:!1,results:i}}},initSelection:function(i,s){var n=$(i).val(),o={};n!==""&&("client_id"in t&&(o={client_id:t.client_id,session:t.session_id}),$.ajax(t.getuser_endpoint+"?userid="+n.replace(/,/g,"&userid="),{data:o,accepts:"application/json",dataType:"jsonp"}).done(function(t){$(i).val("");var n=[];t.status=="ok"&&(n=e(t.results)),s(n)}))}})}},window.Baseframe.MapMarker=function(t){return this.field=t,this.activate(),this},window.Baseframe.MapMarker.prototype.activate=function(){var t=this;Baseframe.Forms.preventSubmitOnEnter(this.field.location_id),$("#"+this.field.map_id).locationpicker({location:t.getDefaultLocation(),radius:0,inputBinding:{latitudeInput:$("#"+this.field.latitude_id),longitudeInput:$("#"+this.field.longitude_id),locationNameInput:$("#"+this.field.location_id)},enableAutocomplete:!0,onchanged:function(){},onlocationnotfound:function(){},oninitialized:function(){}})},window.Baseframe.MapMarker.prototype.getDefaultLocation=function(){var t,e;return $("#"+this.field.latitude_id).val()===""&&$("#"+this.field.longitude_id).val()===""?(t=Baseframe.Config.defaultLatitude,e=Baseframe.Config.defaultLongitude):(t=$("#"+this.field.latitude_id).val(),e=$("#"+this.field.longitude_id).val()),{latitude:t,longitude:e}},window.ParsleyConfig={errorsWrapper:"<div></div>",errorTemplate:'<p class="help-error"></p>',errorClass:"has-error",classHandler:function(t){return t.$element.closest(".form-group")},errorsContainer:function(t){return t.$element.closest(".controls")},i18n:{en:{}}},$(function(){window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid",notblank:"This value should not be blank",required:"This value is required",pattern:"This value seems to be invalid",min:"This value should be greater than or equal to %s",max:"This value should be lower than or equal to %s",range:"This value should be between %s and %s",minlength:"This value is too short. It should have %s characters or more",maxlength:"This value is too long. It should have %s characters or fewer",length:"This value should be between %s and %s characters long",mincheck:"You must select at least %s choices",maxcheck:"You must select %s choices or fewer",check:"You must select between %s and %s choices",equalto:"This value should be the same"}),window.ParsleyConfig.i18n.en.type=$.extend(window.ParsleyConfig.i18n.en.type||{},{email:"This value should be a valid email",url:"This value should be a valid url",number:"This value should be a valid number",integer:"This value should be a valid integer",digits:"This value should be digits",alphanum:"This value should be alphanumeric"});var t=function(){$.ajax({type:"GET",url:"/api/baseframe/1/csrf/refresh",timeout:5e3,dataType:"json",success:function(t){$('meta[name="csrf-token"]').attr("content",t.csrf_token),$('input[name="csrf_token"]').val(t.csrf_token)}})};setInterval(t,9e5)}),$(document).ready(function(){$(".navbar-toggle").addClass("collapsed")}),$(function(){$("#navbar-toggle-1").click(function(){if(!$("#navbar-toggle-2").hasClass("collapse")){var t=function(){$("#navbar-toggle-2").addClass("collapsed"),$(".navbar-ex2-collapse").addClass("collapse"),$(".navbar-ex2-collapse").removeClass("in")};setTimeout(t,480),$(".navbar-ex2-collapse").animate({height:"2px"})}}),$("#navbar-toggle-2").click(function(){if(!$("#navbar-toggle-1").hasClass("collapse")){var t=function(){$("#navbar-toggle-1").addClass("collapsed"),$(".navbar-ex1-collapse").addClass("collapse"),$(".navbar-ex1-collapse").removeClass("in")};setTimeout(t,480),$(".navbar-ex1-collapse").animate({height:"2px"})}})});